(this.webpackJsonpcode=this.webpackJsonpcode||[]).push([[0],{18:function(e,t){e.exports={msToString:function(e){var t=Math.floor(e/1e3),a=Math.floor(t/3600);t%=3600;var n=Math.floor(t/60);return t%=60,"".concat(a.toString().padStart(2,"0"),"h ").concat(n.toString().padStart(2,"0"),"m ").concat(t.toString().padStart(2,"0"),"s")},today:function(){var e=new Date;return"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0"))},betterDateString:function(e){var t=e.split("-"),a=new Date(Number(t[0]),Number(t[1])-1,Number(t[2])).toDateString().split(" ");return"".concat(a[2]," ").concat(a[1]," ").concat(a[3])}}},63:function(e,t,a){e.exports=a(83)},83:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),c=a.n(l),o=a(21),i=a(22),s=a(26),u=a(24),m=a(94),d=a(95),g=a(102),p=a(96),h=a(103),f=a(39),E=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{position:"static",style:{marginBottom:"2%"}},r.a.createElement(d.a,null,r.a.createElement(g.a,{display:"flex",flexGrow:1},r.a.createElement(p.a,{variant:"h6"},"Code ",this.props.title)),r.a.createElement(f.b,{to:this.props.path},r.a.createElement(h.a,{style:{backgroundColor:"white",align:"right"},color:"white"},"switcheroo")))))}}]),a}(n.Component),v=a(53),b=a(40),y=a(45),j=a.n(y),S=a(54),O=a(97),I=a(98),T=a(99),w=a(105),D=a(100),x=a(18),k="the_analyst",F=a(55).initializeApp({apiKey:"AIzaSyCMtOtoFQxFUovA9Pteel8wZvTH0bVo07s",authDomain:"code-d740d.firebaseapp.com",databaseURL:"https://code-d740d.firebaseio.com",projectId:"code-d740d",storageBucket:"code-d740d.appspot.com",messagingSenderId:"844208277084",appId:"1:844208277084:web:872b0de3a3684e882e0899",measurementId:"G-TDLKFZXZK7"}),M=F.firestore(),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).fetchData=Object(S.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,M.collection("users").doc(k).get();case 3:t=e.sent.data(),a=void 0===(a=t[Object(x.today)()])?0:a,n.setState({localTime:a,untilNow:a,loading:!1});case 7:case"end":return e.stop()}}),e)}))),n.dbAction=function(){var e=Object(x.today)(),t=Date.now()-n.state.startTime;M.collection("users").doc(k).update(Object(b.a)({},e,n.state.untilNow+t))},n.updateTimer=function(){n.setState({localTime:n.state.localTime+1e3})},n.toggleTimer=function(){var e=Object(v.a)({},n.state);!1===n.state.running?(e.dbIntervalId=setInterval(n.dbAction,6e4),e.localIntervalId=setInterval(n.updateTimer,1e3),e.startTime=Date.now()):(clearInterval(e.dbIntervalId),clearInterval(e.localIntervalId),console.log("Error rate : ".concat(Date.now()-n.state.startTime-(n.state.localTime-n.state.untilNow)," ms"))),e.running=!e.running,n.setState(e,(function(){e.running||n.fetchData()}))},n.state={startTime:null,running:!1,dbIntervalId:null,localIntervalId:null,localTime:0,loading:null,untilNow:null},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){return this.state.loading&&null==this.state.untilNow?r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},r.a.createElement(O.a,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{container:!0,justify:"center",direction:"column",alignItems:"center",spacing:4},r.a.createElement(I.a,{item:!0},r.a.createElement(T.a,null,r.a.createElement(w.a,{value:0,variant:this.state.running?"indeterminate":"determinate"}),r.a.createElement(D.a,{style:{textAlign:"center"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},k.toString()),r.a.createElement(p.a,{component:"p"},Object(x.msToString)(this.state.localTime)),r.a.createElement(h.a,{color:this.state.running?"secondary":"primary",variant:"contained",onClick:this.toggleTimer},this.state.running?"Stop":"Start"))))))}}]),a}(r.a.Component),A=a(41),N=F.firestore(),B=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={totalTime:0,sessions:null,loading:!0,streamSub:null},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;N.collection("users").doc(k).onSnapshot((function(t){for(var a=[],n=t.data(),r=0,l=0,c=Object.entries(n);l<c.length;l++){var o=Object(A.a)(c[l],2),i=o[0],s=o[1];r+=s,a.push({date:i,length:s})}a.sort((function(e,t){return e.date<t.date?1:e.date>t.date?-1:0})),e.setState({sessions:a,loading:!1,totalTime:r})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement(I.a,{container:!0,justify:"center"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{container:!0,justify:"center",direction:"row",spacing:2,alignItems:"center"},r.a.createElement(I.a,{item:!0,xs:12},r.a.createElement(T.a,{style:{margin:"1%"}},r.a.createElement(D.a,{style:{textAlign:"center"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},Object(x.msToString)(this.state.totalTime)),r.a.createElement(p.a,{color:"textSecondary"},"spent on Competitive Programming")))),this.state.loading?r.a.createElement(I.a,{item:!0}," ",r.a.createElement(O.a,null)," "):this.state.sessions.map((function(e,t){return r.a.createElement(I.a,{item:!0,key:t},r.a.createElement(T.a,null,r.a.createElement(w.a,{value:Math.min(Math.floor(e.length/1032e4*100),100),variant:"determinate"}),r.a.createElement(D.a,{style:{textAlign:"center"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},Object(x.msToString)(e.length)),r.a.createElement(p.a,{color:"textSecondary"},Object(x.betterDateString)(e.date)))))}))))}}]),a}(r.a.Component),K=F.firestore(),Z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={loading:!0,users:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;K.collection("users").onSnapshot((function(t){var a=t.docs.map((function(e){for(var t=e.data(),a=0,n=0,r=Object.entries(t);n<r.length;n++){var l=Object(A.a)(r[n],2);l[0];a+=l[1]}return{user:e.id,totalTime:a}}));e.setState({loading:!1,users:a})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{container:!0,justify:"center"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{container:!0,justify:"center",direction:"row",spacing:2,alignItems:"center"},this.state.loading?r.a.createElement(I.a,{item:!0}," ",r.a.createElement(O.a,null)," "):this.state.users.map((function(e,t){return r.a.createElement(I.a,{item:!0,key:t},r.a.createElement(T.a,{style:{margin:"1%"}},r.a.createElement(D.a,{style:{textAlign:"center"}},r.a.createElement(p.a,{variant:"h5",component:"h2"},Object(x.msToString)(e.totalTime)),r.a.createElement(p.a,{color:"textSecondary"},e.user))))}))))}}]),a}(n.Component),z=a(7);var G=function(){return r.a.createElement(f.a,null,r.a.createElement(z.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{justifyContent:"center",alignItems:"center"}},r.a.createElement(E,{path:"/all"}),r.a.createElement(C,null),r.a.createElement(B,null)))}}),r.a.createElement(z.a,{path:"/all",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{path:"/"}),r.a.createElement(Z,null))}}))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null)),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.ba69b6f0.chunk.js.map